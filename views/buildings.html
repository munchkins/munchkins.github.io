<div ng-controller="Buildings as bld"><div ng-repeat="(bkey, b) in bld.getAll()"><div ng-if="!b.locked" ng-click="bld.buy(bkey)" ng-class="{ 'inactive': !b.buyable }" class="action-button"><div>{{b.name}} ({{b.value.current}})</div><div class="detail">{{b.prices}}</div><div class="detail"> 
&nbsp;<span ng-repeat="price in b.prices" ng-class="{ 'invalid': !price.affordable }"><span ng-if="price.$index">,&nbsp;</span>{{price.name}}@{{price.value}}</span>&nbsp;</div></div></div></div>