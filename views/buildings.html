<div ng-controller="Buildings as bldc"><div ng-repeat="(bkey, building) in bldc.getAll()"><div ng-if="!bld.locked" ng-click="bldc.buy(bkey)" ng-class="{ 'inactive': !bldc.isBuyable(bkey) }" class="action-button"><div>{{building.name}} ({{building.value.current | number:0}})</div><div class="detail"> 
&nbsp;<span ng-repeat="(pkey, price) in bldc.getPrices(bkey)" ng-class="{ 'invalid': !price.affordable }"><span ng-if="price.$index">,&nbsp;</span>{{price.name}}@{{price.buynow | filter:numeric}}</span>&nbsp;</div></div></div></div>