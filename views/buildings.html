<div ng-controller="Buildings as bld"><div ng-repeat="(bkey, b) in bld.buildings"><div ng-if="!b.locked" ng-click="bld.buy(bkey)" ng-class="{ 'inactive': !bld.isBuyable(bkey) }" class="action-button"><div>{{b.name}} ({{b.value.current}})</div><div class="detail">&nbsp;<span ng-repeat="r in bld.getPrices(bkey)" ng-class="{ 'invalid': !r.affordable }"><span ng-if="$index">,&nbsp;</span>{{r.name}}@{{r.price}}</span>&nbsp;</div></div></div></div>