<div ng-controller="Crafting as craftc"><div ng-repeat="(b, building) in craftc.crafting"><div ng-if="!building.locked" ng-click="craftc.buy(b)" ng-class="{ 'inactive': !craftc.isBuyable(b) }" class="action-button"><div>{{building.name}}</div><div class="detail"><span ng-repeat="(p, price) in craftc.prices(b)" ng-class="{ 'invalid': !price.affordable }"><span ng-if="price.$index">,&nbsp;</span><span>{{price.name}}@{{price.buynow | numeric}}</span></span><span>&nbsp;</span></div></div></div></div>